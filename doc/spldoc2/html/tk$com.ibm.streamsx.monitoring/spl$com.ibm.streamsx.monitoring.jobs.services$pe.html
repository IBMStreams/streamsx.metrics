<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="SPL File pe.spl"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="spldoc_compilationunit"/>
<link rel="stylesheet" type="text/css" href="../../html/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../../html/spldoc.css"/>
<title>SPL File pe.spl</title>
</head>
<body id="spldoc_compilationunit">


<h1 class="title topictitle1">SPL File <tt class="ph tt">pe.spl</tt></h1>

<div class="body refbody">
<div class="section">
<p class="p">
<a class="xref" href="../toolkits/toolkits.html">IBMStreams streamsx.monitoring Toolkit</a> &gt; <a class="xref" href="tk$com.ibm.streamsx.monitoring.html">com.ibm.streamsx.monitoring 2.0.1</a> &gt; <a class="xref" href="ns$com.ibm.streamsx.monitoring.jobs.services.html">com.ibm.streamsx.monitoring.jobs.services</a> &gt; pe.spl</p>

</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Content</h2>
  
  <dl class="dl">
    <dt class="dt dlterm"/>
<dd class="dd"/>

    
      <dt class="dt dlterm splhead-2">Operators</dt>

      <dd class="dd">
<ul class="sl simple">
<li class="sli"><strong class="ph b"><a class="xref" href="spl$com.ibm.streamsx.monitoring.jobs.services$pe.html#spldoc_compilationunit__composite_operator__FailedPEService">FailedPEService</a></strong>: Failed PE detection microservice.
</li>

</ul>

      </dd>

    
  </dl>

</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Composites</h2>
  
</div>

<div class="section" id="spldoc_compilationunit__composite_operator__FailedPEService"><h2 class="title sectiontitle splpart">composite FailedPEService</h2>
  
</div>

<div class="section splgraph">
  <embed class="image" src="../../image/tk$com.ibm.streamsx.monitoring/op$com.ibm.streamsx.monitoring.jobs.services$FailedPEService.svg" width="640" height="154"/>
</div>

<div class="section">

<p class="p">Failed PE detection microservice.
</p>

<p class="p">This microservices subscribes to notifications from <a class="xref" href="spl$com.ibm.streamsx.monitoring.jobs.services$status.html#spldoc_compilationunit__composite_operator__JobStatusService">JobStatusService</a> and detects processing elements (PEs) that have stopped and unhealthy for more than <tt class="ph tt">stoppedDuration</tt> seconds.
</p>

<p class="p">By default when a PE (or its resource/host) fails it is restarted automatically. However if the PE continues to fail it will eventually become stopped with no further automatic restarts. This service can be used to detect PEs that have stopped after multiple failures. In an application that is known to be correct the failure may be due to unavailability of an external system or service, such as a database service.
</p>

<p class="p">Thus this service can be used to notify administrators through an alerting system that an issue exists in their Streams applications.
</p>

<p class="p">Notifications of failed PEs are published as the notification that indicated the PE was stopped and textual representation of the notification.
</p>

<p class="p"><strong class="ph b">Subscribed topics</strong>
</p>

<p class="p">This microservice subscribes to topics published by <a class="xref" href="spl$com.ibm.streamsx.monitoring.jobs.services$status.html#spldoc_compilationunit__composite_operator__JobStatusService">JobStatusService</a>.
</p>

<div class="p">
<ul class="ul">
<li class="li"> <tt class="ph tt">streamsx/monitoring/jobs/status</tt> - Job and PE status notifications    with stream type <a class="xref" href="spl$com.ibm.streamsx.monitoring.jobs$Types.html#spldoc_compilationunit__type__JobStatusNotification">JobStatusNotification</a>.</li>

<li class="li"> <tt class="ph tt">streamsx/monitoring/jobs/connection</tt> - JMX connection notifications    with stream type <a class="xref" href="spl$com.ibm.streamsx.monitoring.jmx$Types.html#spldoc_compilationunit__type__ConnectionNotification">ConnectionNotification</a>.</li>

</ul>

</div>

<p class="p"><strong class="ph b">Published topics</strong>
</p>

<div class="p">
<ul class="ul">
<li class="li"> <tt class="ph tt">streamsx/monitoring/pe/failed</tt> - PE failed notifications. Each tuple    represents a PE that has been stopped for at least the required    stoppage time.    Type <a class="xref" href="spl$com.ibm.streamsx.monitoring.jobs$Types.html#spldoc_compilationunit__type__JobStatusNotification">JobStatusNotification</a> with attribute <tt class="ph tt">notifyType</tt> set to    <tt class="ph tt">com.ibm.streams.management.pe.changed</tt>. The notification is from    the first notification that indicated the PE was stopped.</li>

<li class="li">
<p class="p"> <tt class="ph tt">streamsx/monitoring/pe/failed/alerts</tt> - Textual representation of each    PE failed notification. Suitable for submitting to an alert system    such as a Slack channel.
</p>
</li>

</ul>

</div>

</div>

<div class="section"><h2 class="title sectiontitle">Parameters</h2>

<ul class="sl simple">
<li class="sli"><strong class="ph b">tag</strong>: Tag placed at the beginning of the text alert. Can be set using the submission parameter <tt class="ph tt">tag</tt>. Defaults to an empty string meaning the tag for each alert will be the domain identifier followed by the instance identifier.
</li>

<li class="sli"><strong class="ph b">stoppedDuration</strong>: Duration in seconds a PE must be stopped before a notification is issued. Can be set using the submission parameter <tt class="ph tt">stoppedDuration</tt>. Defaults to sixty seconds.
</li>

</ul>

</div>

<div class="section">
</div>

<div class="section">
</div>

</div>


</body>
</html>